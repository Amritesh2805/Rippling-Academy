{"ast":null,"code":"var _jsxFileName = \"/Users/amritesh/Desktop/Rippling-academy/Week 2/expense-tracker-app/src/components/ExpenseTracker.js\";\nimport React, { useState, useEffect } from 'react';\nimport Expense from './Expense';\nimport TransactionHistory from './TransactionHistory';\nimport TransactionForm from './TransactionForm';\nimport { uniqueId } from '../utils';\nimport FilterForm from './FilterForm'; // Aggregator component/container component\n\nconst transactionData = [];\n\nfunction ExpenseTracker() {\n  const [income, setIncome] = useState(0);\n  const [expense, setExpense] = useState(0);\n  const [transactions, setTransactions] = useState([]);\n\n  const saveState = () => {\n    localStorage.setItem('expenseTrackerState', JSON.stringify(transactions));\n  };\n\n  const calculateExpenses = () => {\n    let income = 0,\n        expense = 0;\n    transactions.forEach(data => {\n      if (data.type === 'income') {\n        income += data.amount;\n      } else if (data.type === 'expense') {\n        expense += data.amount;\n      }\n    });\n    saveState();\n    setIncome(income);\n    setExpense(expense);\n  };\n\n  const handleAddNewTransaction = item => {\n    let newTransactions = [...transactions, item];\n    setTransactions(newTransactions);\n  };\n\n  const handleDeleteTransaction = id => {\n    const newTransactions = transactions.filter(item => item.id != id);\n    setTransactions(newTransactions);\n  };\n\n  useEffect(() => {\n    let localState = JSON.parse(localStorage.getItem('expenseTrackerState'));\n\n    if (localState) {\n      setTransactions(localState);\n    } else {\n      calculateExpenses();\n    }\n  }, []);\n  useEffect(() => {\n    calculateExpenses();\n  }, [transactions]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"Expense-tracker-head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Expense Tracker\"), /*#__PURE__*/React.createElement(Expense, {\n    income: income,\n    expense: expense,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TransactionForm, {\n    onNewTransaction: handleAddNewTransaction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FilterForm, {\n    onNewTransaction: handleAddNewTransaction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TransactionHistory, {\n    transactions: transactions,\n    onDeleteTransaction: handleDeleteTransaction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default ExpenseTracker;","map":{"version":3,"names":["React","useState","useEffect","Expense","TransactionHistory","TransactionForm","uniqueId","FilterForm","transactionData","ExpenseTracker","income","setIncome","expense","setExpense","transactions","setTransactions","saveState","localStorage","setItem","JSON","stringify","calculateExpenses","forEach","data","type","amount","handleAddNewTransaction","item","newTransactions","handleDeleteTransaction","id","filter","localState","parse","getItem"],"sources":["/Users/amritesh/Desktop/Rippling-academy/Week 2/expense-tracker-app/src/components/ExpenseTracker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport Expense from './Expense';\nimport TransactionHistory from './TransactionHistory';\nimport TransactionForm from './TransactionForm';\n\nimport { uniqueId } from '../utils';\nimport FilterForm from './FilterForm';\n\n// Aggregator component/container component\n\nconst transactionData = [\n   \n];\n\nfunction ExpenseTracker() {\n\n    const [income, setIncome] = useState(0);\n    const [expense, setExpense] = useState(0);\n    const [transactions, setTransactions] = useState([]);\n    \n    const saveState = () => {\n        localStorage.setItem('expenseTrackerState', \n            JSON.stringify(transactions));\n    }\n\n    const calculateExpenses = () => {\n        let income = 0, expense = 0;\n        \n        transactions.forEach((data) => {\n            if (data.type === 'income') {\n                income += data.amount;\n            } else if (data.type === 'expense') {\n                expense += data.amount;\n            }\n        });\n\n        saveState();\n\n        setIncome(income);\n        setExpense(expense);\n    }\n\n    const handleAddNewTransaction = item => {\n        let newTransactions = [...transactions, item];\n        setTransactions(newTransactions);\n    }\n\n    const handleDeleteTransaction = id => {\n        const newTransactions = transactions.filter((item) => item.id != id);\n        setTransactions(newTransactions);\n    }\n\n    useEffect(() => {\n        let localState = JSON.parse(localStorage.getItem('expenseTrackerState'));\n        if (localState) {\n            setTransactions(localState);\n        } else {\n            calculateExpenses();\n        }\n    }, []);\n\n    useEffect(() => {\n        calculateExpenses();\n    }, [transactions]);\n\n\n\n    return (\n        <div>\n            <h1 className='Expense-tracker-head'>Expense Tracker</h1>\n            <Expense income={income} expense={expense} />\n            <TransactionForm onNewTransaction={handleAddNewTransaction} />\n            <FilterForm onNewTransaction={handleAddNewTransaction}/>\n            <TransactionHistory transactions={transactions}\n                onDeleteTransaction={handleDeleteTransaction} />\n            \n                \n        </div>\n    )\n}\n\nexport default ExpenseTracker;"],"mappings":"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"},"metadata":{},"sourceType":"module"}